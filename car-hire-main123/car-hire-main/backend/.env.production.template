# ============================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in the values
# NEVER commit .env file to git!

# Server Configuration
PORT=3001
NODE_ENV=production

# Database
MONGODB_URI=your_mongodb_connection_string_here

# ============================================
# M-PESA PRODUCTION CREDENTIALS
# ============================================
# Get these from https://developer.safaricom.co.ke/
# After your app is approved for production

# Step 1: Get these from your Daraja app (Production section)
MPESA_CONSUMER_KEY=YOUR_PRODUCTION_CONSUMER_KEY_HERE
MPESA_CONSUMER_SECRET=YOUR_PRODUCTION_CONSUMER_SECRET_HERE

# Step 2: Get this from Daraja test credentials page (same for production)
MPESA_PASSKEY=YOUR_PRODUCTION_PASSKEY_HERE

# Step 3: Your business Till Number or Paybill
# Get this from Safaricom shop
MPESA_SHORTCODE=YOUR_TILL_OR_PAYBILL_NUMBER_HERE

# Step 4: Your deployed website callback URL
# MUST be HTTPS (not HTTP)
# Replace yourdomain.com with your actual domain
MPESA_CALLBACK_URL=https://yourdomain.com/api/mpesa/callback

# Step 5: Set environment to production
MPESA_ENV=production

# ============================================
# WHAT EACH CREDENTIAL IS FOR:
# ============================================

# MPESA_CONSUMER_KEY
# - Authentication for M-Pesa API
# - Get from: Daraja Portal > Your App > Keys
# - Example: hR8WKuAEl9IQWzT3KVGDWOKTkFjhEcRl0tdULQ3tRJ3SwU4r

# MPESA_CONSUMER_SECRET  
# - Authentication for M-Pesa API
# - Get from: Daraja Portal > Your App > Keys (click "show")
# - Example: aUzNJOCIm0d7e5GXB4uq3cvkX5irwwGQDVyEDJnGr9A7F4Wm...

# MPESA_PASSKEY
# - Encrypts STK Push requests
# - Get from: Daraja Portal > Test Credentials > Lipa Na M-Pesa
# - Production uses same passkey as sandbox
# - Example: bfb279f9aa9bdbcf158e97dd71a467cd2e0c893059b10f78e6...

# MPESA_SHORTCODE
# - Your business number where payments go
# - Till Number: 5-7 digits (e.g., 5123456)
# - Paybill: 5-7 digits (e.g., 400200)
# - Get from: Safaricom shop application

# MPESA_CALLBACK_URL
# - Where M-Pesa sends payment confirmations
# - MUST be publicly accessible HTTPS URL
# - Format: https://yourdomain.com/api/mpesa/callback
# - Test with: ngrok for local development

# MPESA_ENV
# - production: Uses real money, production API
# - sandbox: Uses test money, sandbox API

# ============================================
# HOW TO GET MISSING CREDENTIALS:
# ============================================

# 1. M-PESA TILL/PAYBILL NUMBER:
#    - Visit any Safaricom shop
#    - Ask for "Lipa na M-Pesa Till Number" application
#    - Provide your ID and phone number
#    - Get approved (usually same day)
#    - Receive your Till Number
#    - Cost: FREE

# 2. PRODUCTION API CREDENTIALS:
#    - Go to https://developer.safaricom.co.ke/
#    - Login to your account
#    - Click on your "Spaceborne" app
#    - Click "Add API Products"
#    - Select "Lipa Na M-Pesa Online" (Production)
#    - Click "Request Production Access"
#    - Fill in business details
#    - Submit for approval
#    - Wait 1-2 weeks for approval
#    - Get production Consumer Key and Secret
#    - Cost: FREE

# 3. DOMAIN & SSL (for callback URL):
#    - Option A: Buy domain (KES 1,500/year)
#    - Option B: Use free subdomain from hosting
#    - Deploy to Vercel/Netlify (auto SSL)
#    - Or use ngrok for testing: ngrok http 3001
#    - Cost: FREE or ~KES 1,500/year

# ============================================
# SECURITY NOTES:
# ============================================
# - NEVER commit this file with real values to git
# - NEVER share these credentials publicly
# - NEVER hardcode credentials in your code
# - Add .env to .gitignore
# - Use environment variables in production
# - Rotate credentials if compromised
